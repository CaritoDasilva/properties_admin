(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,r){e.exports={listContainer:"PropertiesList_listContainer__m2Y-z",card:"PropertiesList_card__3zscE"}},42:function(e,t,r){e.exports={selectStatus:"DetailProperty_selectStatus__2Qs2v"}},47:function(e,t,r){},48:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(38),o=r.n(c),i=(r(47),r(48),r(19)),s=r(7),l=r(16),p=r(2),d=r(6),u=r.n(d),j=r(13),b=r(11),h=r(75),f=r(76),x=r(17),O=r.n(x),v=function(){var e=Object(j.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: propertyServices.js ~ line 4 ~ changePropertyFromService ~ property",t),e.prev=1,e.next=4,O.a.put("http://localhost:8000/api/properties/update/".concat(t._id),t);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log("\ud83d\ude80 ~ file: PropertiesList.jsx ~ line 43 ~ changeStatus ~ err",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: propertyServices.js ~ line 17 ~ getPropertyByIdFromService ~ id",t),e.prev=1,e.next=4,O.a.get("http://localhost:8000/api/properties/".concat(t));case 4:return r=e.sent,console.log("\ud83d\ude80 ~ file: DetailProperty.jsx ~ line 12 ~ getPropertyById ~ response",r.data.property),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),console.log("\ud83d\ude80 ~ file: DetailProperty.jsx ~ line 16 ~ getPropertyById ~ err",e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),y=r(1),g=function(){var e=Object(s.g)().id,t=Object(s.f)(),r=Object(n.useState)({propertyName:"",description:"",location:"",price:"",owner:""}),a=Object(b.a)(r,2),c=a[0],o=a[1],i=Object(n.useState)({propertyName:"",description:"",location:"",price:"",owner:""}),d=Object(b.a)(i,2),x=d[0],g=d[1],w=function(){var t=Object(j.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:r=t.sent,o({propertyName:r.data.property.propertyName,description:r.data.property.description,location:r.data.property.location,price:r.data.property.price,owner:r.data.property.owner});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){e&&w()}),[e]);var P=function(e){o(Object(p.a)(Object(p.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))},N=function(){var r=Object(j.a)(u.a.mark((function r(n){var a,o,i,s,d;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n.preventDefault(),a=Object.values(c),console.log("\ud83d\ude80 ~ file: NewProperty.jsx ~ line 28 ~ addProperty ~ valuesForm",a),o=Object.keys(c),console.log("\ud83d\ude80 ~ file: NewProperty.jsx ~ line 30 ~ addProperty ~ keysForm",o),i=a.findIndex((function(e){return""===e})),-1===i){r.next=11;break}return console.log("index",a.findIndex((function(e){return""===e}))),g(Object(p.a)(Object(p.a)({},x),{},Object(l.a)({},o[i],"Todos los campos son requeridos"))),r.abrupt("return");case 11:if(!e||-1!==i){r.next=17;break}s=Object(p.a)(Object(p.a)({},c),{},{_id:e}),v(s),r.next=21;break;case 17:return r.next=19,O.a.post("http://localhost:8000/api/properties/new",c);case 19:d=r.sent,console.log("\ud83d\ude80 ~ file: NewProperty.jsx ~ line 41 ~ addProperty ~ response",d);case 21:t.push("/propiedades"),r.next=28;break;case 24:return r.prev=24,r.t0=r.catch(0),console.log("\ud83d\ude80 ~ file: NewProperty.jsx ~ line 44 ~ addProperty ~ err",r.t0),r.abrupt("return",r.t0);case 28:case"end":return r.stop()}}),r,null,[[0,24]])})));return function(e){return r.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Nueva Propiedad"}),Object(y.jsxs)(h.a,{onSubmit:N,children:[Object(y.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(h.a.Label,{children:"Nombre de la propiedad"}),Object(y.jsx)(h.a.Control,{type:"text",placeholder:"Ingresa nombre",name:"propertyName",value:c.propertyName,onChange:function(e){return o(Object(p.a)(Object(p.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))},required:!0}),Object(y.jsx)("p",{className:"errors",children:x.propertyName})]}),Object(y.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(h.a.Label,{children:"Descripci\xf3n de la propiedad"}),Object(y.jsx)(h.a.Control,{type:"text",placeholder:"Ingresa descripci\xf3n",name:"description",value:c.description,onChange:P,required:!0}),Object(y.jsx)("p",{className:"errors",children:x.description})]}),Object(y.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(h.a.Label,{children:"Ubicaci\xf3n de la propiedad"}),Object(y.jsx)(h.a.Control,{type:"text",placeholder:"Ingresa ubicaci\xf3n",name:"location",value:c.location,onChange:P,required:!0}),Object(y.jsx)("p",{className:"errors",children:x.location})]}),Object(y.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(h.a.Label,{children:"Precio de la propiedad"}),Object(y.jsx)(h.a.Control,{type:"number",placeholder:"Ingresa precio",name:"price",value:c.price,onChange:P,required:!0}),Object(y.jsx)("p",{className:"errors",children:x.price})]}),Object(y.jsxs)(h.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(h.a.Label,{children:"Due\xf1o de la propiedad"}),Object(y.jsx)(h.a.Control,{type:"text",placeholder:"Ingresa nombre del due\xf1o",name:"owner",value:c.owner,onChange:P,required:!0}),Object(y.jsx)("p",{className:"errors",children:x.owner})]}),Object(y.jsx)(f.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},w=r(26),P=r.n(w),N=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),r=t[0],a=t[1],c=Object(s.f)(),o=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:8000/api/properties/");case 3:t=e.sent,console.log("\ud83d\ude80 ~ file: PropertiesList.jsx ~ line 11 ~ getProperties ~ properties",t),a(t.data.properties),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: PropertiesList.jsx ~ line 12 ~ getProperties ~ err",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){o()}),[]);var i=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("http://localhost:8000/api/properties/delete/".concat(t));case 3:return n=e.sent,a(r.filter((function(e){return e._id!==t}))),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: PropertiesList.jsx ~ line 30 ~ deleteProperty ~ err",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)(Object(p.a)({},t),{},{isSold:r}),e.next=3,v(n);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Propiedades:"}),Object(y.jsx)("div",{className:P.a.listContainer,children:null===r||void 0===r?void 0:r.map((function(e){return Object(y.jsxs)("div",{className:P.a.card,children:[Object(y.jsx)("h2",{children:e.propertyName}),Object(y.jsx)("p",{children:e.description}),Object(y.jsxs)("p",{children:["Status: ",e.isSold?"Vendida":"Disponible"]}),Object(y.jsx)(h.a,{children:Object(y.jsx)(h.a.Check,{type:"switch",id:"custom-switch",label:"Cambiar status propiedad",checked:e.isSold,onChange:function(t){return l(e,t.target.checked)}})}),Object(y.jsx)(f.a,{variant:"info",onClick:function(){return t=e._id,void c.push("/ver-propiedad/".concat(t));var t},children:"Ver detalle"}),Object(y.jsx)(f.a,{variant:"danger",onClick:function(){return i(e._id)},children:"Eliminar propiedad"})]},e._id)}))})]})},S=r(42),k=r.n(S),C=function(){var e=Object(s.f)(),t=Object(s.g)().id,r=Object(n.useState)(),a=Object(b.a)(r,2),c=a[0],o=a[1],i=function(){var e=Object(j.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:n=e.sent,console.log("\ud83d\ude80 ~ file: DetailProperty.jsx ~ line 15 ~ getPropertyById ~ response",n),o(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.property);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){t&&i()}),[t]);var l=function(){var e=Object(j.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.a)(Object(p.a)({},c),{},{isSold:t.target.value}),console.log("\ud83d\ude80 ~ file: DetailProperty.jsx ~ line 25 ~ changeStatus ~ updatedProperty",c),e.next=4,v(r);case 4:n=e.sent,console.log("\ud83d\ude80 ~ file: DetailProperty.jsx ~ line 31 ~ changeStatus ~ response",n),o(null===n||void 0===n?void 0:n.data.property);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsxs)("h1",{children:["Propiedad ",null===c||void 0===c?void 0:c.propertyName]}),Object(y.jsxs)("h3",{children:["Ubicaci\xf3n: ",null===c||void 0===c?void 0:c.location]}),Object(y.jsxs)("h3",{children:["Nombre del due\xf1o: ",null===c||void 0===c?void 0:c.owner]}),Object(y.jsxs)("h3",{children:["Status: ",(null===c||void 0===c?void 0:c.isSold)?"Vendida":"Disponible"]}),Object(y.jsxs)(h.a.Select,{"aria-label":"Default select example",value:null===c||void 0===c?void 0:c.isSold,className:k.a.selectStatus,onChange:l,children:[Object(y.jsx)("option",{children:"Open this select menu"}),Object(y.jsx)("option",{value:!0,children:"Vendida"}),Object(y.jsx)("option",{value:!1,children:"Disponible"})]}),Object(y.jsx)(f.a,{variant:"info",onClick:function(){e.push("/modificar-propiedad/".concat(t))},children:"Editar propiedad"})]})};var I=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(i.a,{children:Object(y.jsxs)(s.c,{children:[Object(y.jsx)(s.a,{exact:!0,path:"/",children:Object(y.jsx)(N,{})}),Object(y.jsx)(s.a,{exact:!0,path:"/nueva-propiedad",children:Object(y.jsx)(g,{})}),Object(y.jsx)(s.a,{exact:!0,path:"/ver-propiedad/:id",children:Object(y.jsx)(C,{})}),Object(y.jsx)(s.a,{exact:!0,path:"/modificar-propiedad/:id",children:Object(y.jsx)(g,{})})]})})})},_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,77)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(I,{})}),document.getElementById("root")),_()}},[[74,1,2]]]);
//# sourceMappingURL=main.a0615870.chunk.js.map